<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 7: 배포 및 CI/CD 환경 구성</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        .slide {
            width: 1280px;
            min-height: 720px;
            background-color: #1E1E1E;
            color: #E0E0E0;
            position: relative;
            overflow: hidden;
        }
        .code-font {
            font-family: 'Fira Code', monospace;
        }
        .topic-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            transition: all 0.3s ease;
            height: 100%;
        }
        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        .aws-card {
            border-left: 4px solid #FF9900;
        }
        .docker-card {
            border-left: 4px solid #2496ED;
        }
        .github-card {
            border-left: 4px solid #8957E5;
        }
        .security-card {
            border-left: 4px solid #10B981;
        }
        .tag {
            font-size: 0.75rem;
            padding: 2px 8px;
            border-radius: 4px;
            background-color: rgba(255, 163, 0, 0.2);
            color: #FF9900;
            display: inline-block;
            margin-right: 5px;
        }
        .tag-docker {
            background-color: rgba(36, 150, 237, 0.2);
            color: #2496ED;
        }
        .tag-github {
            background-color: rgba(137, 87, 229, 0.2);
            color: #8957E5;
        }
        .bubble {
            position: absolute;
            border-radius: 50%;
            opacity: 0.05;
            background: linear-gradient(135deg, #FF9900, #2496ED, #8957E5);
        }
        .keyword {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            padding: 1px 5px;
            display: inline-block;
        }
        .deployment-step {
            border-left: 3px solid rgba(255, 163, 0, 0.5);
            padding-left: 10px;
            margin-bottom: 8px;
        }
        .flow-diagram {
            position: relative;
            padding: 15px 0;
        }
        .flow-item {
            position: relative;
            padding: 8px 12px;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            z-index: 2;
        }
        .flow-arrow {
            position: absolute;
            height: 2px;
            background-color: rgba(255, 255, 255, 0.2);
            z-index: 1;
        }
        .flow-arrow:after {
            content: '';
            position: absolute;
            right: 0;
            top: -4px;
            border-width: 5px 0 5px 8px;
            border-style: solid;
            border-color: transparent transparent transparent rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>
    <div class="slide p-10">
        <!-- Background Bubbles -->
        <div class="bubble" style="width: 450px; height: 450px; top: -250px; right: -150px;"></div>
        <div class="bubble" style="width: 300px; height: 300px; bottom: -100px; left: 200px;"></div>
        
        <!-- Header -->
        <div class="mb-6">
            <div class="flex items-center">
                <div class="bg-yellow-600 text-white rounded-lg px-4 py-1 text-sm font-medium mr-3">WEEK 7</div>
                <h1 class="text-3xl font-bold text-white">배포 및 CI/CD 환경 구성</h1>
            </div>
            <div class="h-1 w-32 bg-yellow-600 mt-2 rounded-full"></div>
        </div>
        
        <!-- Main Content: 4 Cards Grid -->
        <div class="grid grid-cols-2 gap-6 mb-6" style="height: 540px">
            <!-- AWS Lightsail 기반 환경 설정 -->
            <div class="topic-card aws-card p-5">
                <div class="flex items-center mb-4">
                    <i class="fab fa-aws text-2xl mr-3 text-yellow-500"></i>
                    <h2 class="text-xl font-bold">AWS Lightsail 기반 환경 설정</h2>
                </div>
                <ul class="list-disc list-inside space-y-2 mb-3 pl-2">
                    <li class="text-yellow-500 font-medium">서버 설정 (Ubuntu 서버 환경 구축)</li>
                    <li>인스턴스 생성 및 네트워크 설정</li>
                    <li>SSH 키 관리 및 접속 방법</li>
                    <li>DNS 설정 및 정적 IP 구성</li>
                </ul>
                
                <div class="bg-black bg-opacity-30 rounded-lg p-3 mb-3">
                    <div class="text-yellow-400 font-medium mb-2">
                        <i class="fas fa-server mr-1"></i> Nginx 리버스 프록시 설정
                    </div>
                    <div class="code-font text-sm text-gray-300">
                        <span class="text-blue-400"># /etc/nginx/sites-available/app</span><br>
                        server {<br>
                        &nbsp;&nbsp;listen 80;<br>
                        &nbsp;&nbsp;server_name example.com;<br><br>
                        
                        &nbsp;&nbsp;location / {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;proxy_pass <span class="text-green-400">http://localhost:8000</span>;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;proxy_set_header Host $host;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;proxy_set_header X-Real-IP $remote_addr;<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>
                
                <div class="deployment-step">
                    <div class="text-yellow-400 font-medium mb-1">HTTPS 적용 (Certbot)</div>
                    <div class="code-font text-sm text-gray-300">
                        <span class="text-purple-400">$</span> sudo apt install certbot python3-certbot-nginx<br>
                        <span class="text-purple-400">$</span> sudo certbot --nginx -d example.com
                    </div>
                </div>
                
                <div class="grid grid-cols-3 gap-1 text-xs text-center">
                    <div class="bg-yellow-900 bg-opacity-20 rounded-md p-2">
                        <i class="fas fa-bolt text-yellow-500 text-base"></i>
                        <div class="mt-1 text-yellow-300">빠른 설정</div>
                    </div>
                    <div class="bg-yellow-900 bg-opacity-20 rounded-md p-2">
                        <i class="fas fa-dollar-sign text-yellow-500 text-base"></i>
                        <div class="mt-1 text-yellow-300">비용 효율적</div>
                    </div>
                    <div class="bg-yellow-900 bg-opacity-20 rounded-md p-2">
                        <i class="fas fa-shield-alt text-yellow-500 text-base"></i>
                        <div class="mt-1 text-yellow-300">보안 관리</div>
                    </div>
                </div>
            </div>
            
            <!-- Docker 컨테이너 제작 -->
            <div class="topic-card docker-card p-5">
                <div class="flex items-center mb-4">
                    <i class="fab fa-docker text-2xl mr-3 text-blue-500"></i>
                    <h2 class="text-xl font-bold">Docker 컨테이너 제작</h2>
                </div>
                <ul class="list-disc list-inside space-y-2 mb-3 pl-2">
                    <li class="text-blue-500 font-medium">Docker 기본 개념 및 아키텍처</li>
                    <li>이미지 빌드 및 컨테이너 실행</li>
                    <li>Docker Compose로 멀티 컨테이너 관리</li>
                    <li>Docker Hub 활용 및 이미지 저장소 관리</li>
                </ul>
                
                <div class="bg-black bg-opacity-30 rounded-lg p-3 mb-3">
                    <div class="text-blue-400 font-medium mb-2">
                        <i class="fas fa-file-code mr-1"></i> Dockerfile 예시
                    </div>
                    <div class="code-font text-sm text-gray-300">
                        <span class="text-blue-400">FROM</span> python:3.9-slim<br>
                        <br>
                        <span class="text-blue-400">WORKDIR</span> /app<br>
                        <br>
                        <span class="text-blue-400">COPY</span> requirements.txt .<br>
                        <span class="text-blue-400">RUN</span> pip install -r requirements.txt<br>
                        <br>
                        <span class="text-blue-400">COPY</span> . .<br>
                        <br>
                        <span class="text-blue-400">EXPOSE</span> 8000<br>
                        <br>
                        <span class="text-blue-400">CMD</span> ["uvicorn", "main:app", "--host", "0.0.0.0"]
                    </div>
                </div>
                
                <div class="bg-black bg-opacity-30 rounded-lg p-3 mb-2">
                    <div class="text-blue-400 font-medium mb-2">
                        <i class="fas fa-layer-group mr-1"></i> docker-compose.yml
                    </div>
                    <div class="code-font text-sm text-gray-300">
                        <span class="text-green-400">version:</span> '3'<br>
                        <span class="text-green-400">services:</span><br>
                        &nbsp;&nbsp;<span class="text-green-400">backend:</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;build: ./backend<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;ports:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- "8000:8000"<br>
                        &nbsp;&nbsp;<span class="text-green-400">frontend:</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;build: ./frontend<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;ports:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- "3000:80"
                    </div>
                </div>
            </div>
            
            <!-- GitHub Actions CI/CD -->
            <div class="topic-card github-card p-5">
                <div class="flex items-center mb-4">
                    <i class="fab fa-github-alt text-2xl mr-3 text-purple-400"></i>
                    <h2 class="text-xl font-bold">GitHub Actions CI/CD</h2>
                </div>
                <ul class="list-disc list-inside space-y-2 mb-3 pl-2">
                    <li class="text-purple-400 font-medium">CI/CD 기본 개념 및 이점</li>
                    <li>GitHub Actions 워크플로우 설계</li>
                    <li>자동화된 테스트 및 배포 파이프라인</li>
                    <li>배포 시나리오 및 전략</li>
                </ul>
                
                <div class="flow-diagram mb-3">
                    <div class="flex justify-between">
                        <div class="flow-item bg-purple-900 bg-opacity-40 w-28 text-center">
                            <div class="text-xs">
                                <i class="fas fa-code text-purple-400"></i>
                            </div>
                            <div class="text-sm font-medium">코드 푸시</div>
                        </div>
                        <div class="flow-item bg-purple-900 bg-opacity-40 w-28 text-center">
                            <div class="text-xs">
                                <i class="fas fa-vial text-purple-400"></i>
                            </div>
                            <div class="text-sm font-medium">테스트</div>
                        </div>
                        <div class="flow-item bg-purple-900 bg-opacity-40 w-28 text-center">
                            <div class="text-xs">
                                <i class="fas fa-box text-purple-400"></i>
                            </div>
                            <div class="text-sm font-medium">빌드</div>
                        </div>
                        <div class="flow-item bg-purple-900 bg-opacity-40 w-28 text-center">
                            <div class="text-xs">
                                <i class="fas fa-rocket text-purple-400"></i>
                            </div>
                            <div class="text-sm font-medium">배포</div>
                        </div>
                    </div>
                    <div class="flow-arrow" style="width: 70%; height: 2px; top: 25px; left: 15%;"></div>
                </div>
                
                <div class="bg-black bg-opacity-30 rounded-lg p-3">
                    <div class="text-purple-400 font-medium mb-2">
                        <i class="fas fa-cog mr-1"></i> GitHub Actions Workflow
                    </div>
                    <div class="code-font text-sm text-gray-300">
                        <span class="text-green-400">name:</span> Deploy Application<br>
                        <span class="text-green-400">on:</span><br>
                        &nbsp;&nbsp;push:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;branches: [ main ]<br><br>
                        
                        <span class="text-green-400">jobs:</span><br>
                        &nbsp;&nbsp;<span class="text-green-400">build-and-deploy:</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;runs-on: ubuntu-latest<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;steps:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- uses: actions/checkout@v2<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: Build Docker image<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run: docker build -t app:latest .<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: Deploy to server<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uses: appleboy/ssh-action@master<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with:<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host: ${{ secrets.HOST }}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key: ${{ secrets.SSH_KEY }}
                    </div>
                </div>
            </div>
            
            <!-- 환경 변수 관리 및 보안 -->
            <div class="topic-card security-card p-5">
                <div class="flex items-center mb-4">
                    <i class="fas fa-user-shield text-2xl mr-3 text-green-400"></i>
                    <h2 class="text-xl font-bold">환경 변수 관리 및 보안 고려</h2>
                </div>
                <ul class="list-disc list-inside space-y-2 mb-3 pl-2">
                    <li class="text-green-500 font-medium">환경 변수 관리 전략</li>
                    <li>API 키 및 비밀 정보 보안</li>
                    <li>GitHub Secrets 및 AWS 파라미터 스토어 활용</li>
                    <li>로깅 및 모니터링 설정</li>
                </ul>
                
                <div class="grid grid-cols-2 gap-3 mb-3">
                    <div class="bg-black bg-opacity-30 p-3 rounded-md">
                        <div class="text-green-400 font-medium mb-1">개발 환경</div>
                        <div class="code-font text-xs text-gray-300">
                            <span class="text-blue-400"># .env.development</span><br>
                            DB_HOST=localhost<br>
                            DB_PORT=5432<br>
                            DEBUG=true<br>
                            LOG_LEVEL=debug
                        </div>
                    </div>
                    <div class="bg-black bg-opacity-30 p-3 rounded-md">
                        <div class="text-green-400 font-medium mb-1">운영 환경</div>
                        <div class="code-font text-xs text-gray-300">
                            <span class="text-blue-400"># .env.production</span><br>
                            DB_HOST=db.example.com<br>
                            DB_PORT=5432<br>
                            DEBUG=false<br>
                            LOG_LEVEL=error
                        </div>
                    </div>
                </div>
                
                <div class="bg-black bg-opacity-30 p-3 rounded-md mb-3">
                    <div class="text-green-400 font-medium mb-2">
                        <i class="fas fa-lock mr-1"></i> Python에서 환경변수 불러오기
                    </div>
                    <div class="code-font text-sm text-gray-300">
                        <span class="text-green-400">import</span> os<br>
                        <span class="text-green-400">from</span> dotenv <span class="text-green-400">import</span> load_dotenv<br><br>
                        
                        load_dotenv()  <span class="text-blue-400"># .env 파일 로드</span><br><br>
                        
                        <span class="text-green-400">class</span> <span class="text-yellow-300">Settings</span>:<br>
                        &nbsp;&nbsp;DB_HOST = os.getenv("DB_HOST")<br>
                        &nbsp;&nbsp;DB_PORT = os.getenv("DB_PORT")<br>
                        &nbsp;&nbsp;SECRET_KEY = os.getenv("SECRET_KEY")<br>
                        &nbsp;&nbsp;DEBUG = os.getenv("DEBUG", "false").lower() == "true"
                    </div>
                </div>
                
                <div class="p-2 bg-green-900 bg-opacity-20 rounded-md">
                    <div class="text-center text-xs text-green-300 font-medium mb-2">보안 체크리스트</div>
                    <div class="grid grid-cols-2 gap-2 text-xs">
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i>
                            <span class="text-gray-300">민감 정보 암호화</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i>
                            <span class="text-gray-300">코드에 직접 자격증명 금지</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i>
                            <span class="text-gray-300">환경별 구성 분리</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i>
                            <span class="text-gray-300">.env 파일 .gitignore에 추가</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer: Learning Resources -->
        <div class="border-t border-gray-700 pt-3">
            <div class="flex justify-between items-center">
                <h3 class="font-medium text-gray-400"><i class="fas fa-book mr-2"></i>추천 학습 자료:</h3>
                <div>
                    <span class="tag"><i class="fas fa-link mr-1"></i>AWS Lightsail 공식 문서</span>
                    <span class="tag tag-docker"><i class="fas fa-link mr-1"></i>Docker 공식문서</span>
                    <span class="tag tag-github"><i class="fas fa-book mr-1"></i>GitHub Actions 공식문서</span>
                </div>
            </div>
        </div>
        
        <!-- Week Indicator -->
        <div class="absolute top-5 right-5 text-sm text-gray-500">
            6 / 8
        </div>
    </div>
</body>
</html>